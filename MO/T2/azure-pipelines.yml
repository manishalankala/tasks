trigger: 
- master

pool:
  vmImage: ubuntu-latest
  
- task: Docker@2
  displayName: "Docker Login to Paterva's Docker registry"
  inputs:
    containerRegistry: 'Paterva_docker_registry'
    command: 'login'
    
- task: Docker@2
  displayName: "Docker Build"
  inputs:
    containerRegistry: 'docker_registry'
    repository: 'organizationname/reponame'
    command: 'build'
    Dockerfile: 'docker/Dockerfile'
    buildContext: '.'
    
- task: Docker@2
  displayName: "Docker Push"
  inputs:
    containerRegistry: 'docker_registry'
    repository: 'organizationname/reponamefrontend'
    command: 'push'
